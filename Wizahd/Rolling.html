<html>
<title>Yahtzee!</title>
<body></body>
<button onclick="it();"> Roll! </button> <br>
<button onclick="yes();"> Re-roll! </button> <br>
</html>
<style>
.v{
	border: solid;
	border-color: red;
}
.c{
	border-image-color: white; 
}
</style>
<script>
var d = 0;
var dice = [];
var d2 = [];
var r = 0;
var ad = 0;
var ax = 0;
var x = [];
function it(){
	if(ad == 0){
		Roll();
	}
}
function yes(){
	if(ax < 3){
		re_roll();
	}
}
function Removetimer(){
	for(var g = 1; g < 7; g++){
		var a = document.getElementById("p" + g);
		a.removeAttribute("src");
	}
	Yahtzee(5);
}
function Roll(){
	ad ++;
	for(var f = 1; f < 7; f++){
		var v = document.createElement("img");
		v.setAttribute("src", "./Dice_pictures/Dice_faces/Die_side_" + f + ".png");
		v.setAttribute("id", "p" + f);
		document.body.appendChild(v);
	}
	myVar = setTimeout(Removetimer, 1500);
}
function Yahtzee(a){
	for(var i = 0; i < a; i++){
		var p = Math.floor((Math.random() * 6) + 1);
		var z = document.createElement("img");
		z.setAttribute("src", "./Dice_pictures/Dice_faces/Die_side_" + p + ".png");
		z.setAttribute("id", "die" + i);
		z.setAttribute("onclick", "get(" + i + ");");
		document.body.appendChild(z);
		d2[i] = p;
	}
	Compare();
	console.log(d2);
}
function Compare(){
	if(d2[0] == d2[1] && d2[0] == d2[2] && d2[0] == d2[3] && d2[0] == d2[4]){
		alert("Yahtzee!");
		r++;
	}
	if(r == 0){
		for(var g = -2; g < 3; g++){
			for(var b = g+1; b < 4; b++){
				for(var j = b+1; j < 5; j++){
					for(var c = j+1; c < 5; c++){
						if(d2[g] == d2[b] && d2[g] == d2[j] && d2[g] == d2[c]){
							alert("You have a four of a kind!");
							r++;
						}
					}
				}
			}
		}
	}
	if(r == 0){
		for(var b = -1; b < 4; b++){
			for(var j = b+1; j < 5; j++){
				for(var c = j+1; c < 5; c++){
					if(d2[b] == d2[j] && d2[b] == d2[c]){
						r++;
						var h = b;
						var t = j;
						var v = c;
						var b1 = d2[b]; 
						var j1 = d2[j]; 
						var c1 = d2[c];
						var b2 = b;
						var j2 = j;
						var c2 = c; 
						d2[b] = "s"; 
						d2[j] = "b"; 
						d2[c] = "c";
						var y = 0;
					}
				}
			}
		}
		if(y == 0){
			for(var j = 0; j < 5; j++){
				for(var c = j+1; c < 5; c++){
					if(d2[j] == d2[c]){
						alert("You have a full house!");
						r++;
						y = -1;
					}
				}
			}
			y++;
		}
		if(y == 1){
			h += 1;
			t += 1;
			v += 1;
				alert("You have a three of a kind in the " + h + " , " + t + " and " + v + " position!");
			}
			d2[b2] = b1;
			d2[j2] = j1;
			d2[c2] = c1;
		}
	if(r == 0){
		for(var j = 0; j < 5; j++){
			for(var c = j+1; c < 5; c++){
				if(d2[j] == d2[c]){
					if(g == 1){
						y += 1;
						h += 1;
						c += 1;
						j += 1;
						alert("You have two pairs! One pair in the " + y + " and the " + h + " position. The other pair is in the " + j + " and the " + c + " postion!");
						r++;
					}
					var y = j;
					var h = c;
					var g = 0;
					g++;
				}
			}
		}
	}
	if(r == 0){
		for(var j = 0; j < 5; j++){
			for(var c = j+1; c < 5; c++){
				if(d2[j] == d2[c]){
					c += 1;
					j += 1;
					alert("You have a pair in the " + j + " position and the " + c + " position!");
					r++;
				}
			}
		}
	}
	if(r == 0){
		if(d2[0] + d2[1] + d2[2] + d2[3] + d2[4] == 15 || d2[0] + d2[1] + d2[2] + d2[3] + d2[4] == 20){
			alert("You have a straight!");
			r++;
		}
	}
	if(r == 0){
		alert("You have nothing!");
	}
	r = 0;
}
function get(p){
	console.log("get" + p);
	var z = document.getElementById("die" + p);
	if(x[p]){
		console.log("true");
		z.setAttribute("class", "c");
	}else{
		console.log("false");
		z.setAttribute("class", "v");
	}
	x[p] = !x[p];
}
function re_roll(){
	ax++;
	for(var i = 0; i < 5; i++){
		if(!x[i]){
			var z = document.getElementById("die" + i);
			var p = Math.floor((Math.random() * 6) + 1);
			z.setAttribute("src", "./Dice_pictures/Dice_faces/Die_side_" + p + ".png");
			d2[i] = p;
		}
	}
	Compare();
}
</script>
