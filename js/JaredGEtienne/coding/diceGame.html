<html>
<title> Dice Roller </title>
<style>
table, th, td {
    border: 1px solid black;
    border-collapse: collapse;
    color: #111111;
    text-align: center;
    font-size: 250%;
}
div{
  color: #AAAAAA;
  text-align: left;
  font-size: 150%;
}
.fixed {
	 background-color: gray;
}
.startOver{
  background-color: white;
}
</style>
<div> Welcome to Dice Selector</div>
<br>
<div>start by pressing start turn</div>
<div>Select a die by pressing it's number, then press reRoll to reRoll that specific die.
</div>
<input type="button" onclick="Randomize()" value = "Start Turn">
<input type="button" onclick="reRoll()" value = "roll">
<br>

<body bgcolor ="red">
  <table style = border="125px black" id = "table" bgcolor= "white">
    <tr id = "row"></ tr>
    <tr id = "second">
        <td id = "row0" onclick= "addClass('0');" backgroundColor = "white"></td>
        <td id = "row1" onclick= "addClass('1');"></td>
        <td id = "row2" onclick= "addClass('2')"></td>
        <td id = "row3" onclick= "addClass('3')"></td>
        <td id = "row4" onclick= "addClass('4')"></td>
    </tr>
    <tr id="inner">
    </tr>
  </table>
</html>
<script>
var c=0;
var h=0;
var x;
var a=[];
var q=0;
var n = 0;
var l = document.getElementById("inner");

function Randomize() {
  if(q<1){
gifLoop();

}
}
function replace(){
    x = Math.floor((Math.random() * 6) + 1);
    console.log("this is" + h);
    var replace= document.getElementById("a"+h);
   	 replace.src = ("./pictures/dice" + x + ".png");
    	replace.setAttribute("width", "210");
    	replace.setAttribute("height","210");
    	replace.setAttribute("id","a"+h);
    var secondrow= document.getElementById("row"+h);
    	secondrow.innerHTML=x;

    a[h]=x;
    console.log(a);
    h++;
   if(h>4){
     h=0;
}
  }

  function addClass(id){

    var j= 1;
    var wowow = document.getElementById("row" +id);
    h= id;
   if(a[h]){
    wowow.className = " fixed";
    console.log("false");

}
//  }
  else {
  //  alert("Sorry You Can Only Select 3 To Re-Roll");
  wowow.className = " startOver"
  console.log("true");
  }

a[h] = !a[h];

  console.log(a);
  }

  function addClassStartOver(){
    var startOver0 = document.getElementById("row0");
    var startOver1 = document.getElementById("row1");
    var startOver2 = document.getElementById("row2");
    var startOver3 = document.getElementById("row3");
    var startOver4 = document.getElementById("row4");
    startOver0.className =" startOver";
    startOver1.className =" startOver";
    startOver2.className =" startOver";
    startOver3.className =" startOver";
    startOver4.className =" startOver";
  }

  function gifLoop(){
    for(var i=0; i<5; i++){
    console.log("I am " + c);
    var firstrow= document.getElementById("row");
    var insert= firstrow.insertCell(-1);
    var b = document.createElement("img");
          b.setAttribute("src", "./pictures/dice_gif.gif");
          b.setAttribute("width", "210");
          b.setAttribute("height", "210");
          b.setAttribute("id","a"+c);
          insert.appendChild(b);
            c++;
            q++;
  }
startDicePicture();
  }

function startDicePicture(h){
    var  myVar = setTimeout(replace, 1500);
      var  myVar1 = setTimeout(replace, 2000);
          var  myVar2 = setTimeout(replace, 2500);
                var  myVar3 = setTimeout(replace, 3000);
                    var myVar4 = setTimeout(replace, 3500);

}

function reRoll(){

// var RERERoll =reRoll.style.backgroundColor;
// alert(RERERoll);
// if(RERERoll = "gray"){
//   alert("hi");
//     addClassStartOver();
//     reRoll.style.backgroundColor = "white";
// }

for(var i = 0; i < 5; i++){
		if(!a[i]){
      if(q<8){
      var reRoll = document.getElementById("row"+i);
        x = Math.floor((Math.random() * 6) + 1);
          var replace= document.getElementById("a"+i);
            replace.src = ("./pictures/dice" + x + ".png");
            replace.setAttribute("width", "210");
            replace.setAttribute("height","210");
            replace.setAttribute("id","a"+i);
          var secondrow= document.getElementById("row"+i);
            secondrow.innerHTML=x;

          }
        }
        }
        if(i>4){
          i=0;
        }
      q++;
      if(q>8){
        alert("You rolled too many times");
      }

}
</script>
